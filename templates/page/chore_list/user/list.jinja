{% extends "layout/default.jinja" %}

{% block icon %}ğŸ‘¤{% endblock %}
{% block title %}Users{% endblock %}

{% block teaser %}
    Of ğŸ“‹&nbsp;{{ chore_list.name }}
{% endblock %}

{% block back_link %}
    <a href="/chore-lists" rel="parent" class="secondary text-decoration-none underline-on-hover">&larr; Back</a>
{% endblock %}

{% block navigation %}
    <ul>
        <li><a href="/chore-lists/{{ chore_list.id }}/activities">
            <div class="icon">âœ…</div>
            <div class="label">Activities</div>
        </a></li>
        <li><a href="/chore-lists/{{ chore_list.id }}/chores">
            <div class="icon">ğŸ§¹</div>
            <div class="label">Chores</div>
        </a></li>
        <li><a href="/chore-lists/{{ chore_list.id }}/users" aria-current="page">
            <div class="icon">ğŸ‘¤</div>
            <div class="label">Users</div>
        </a></li>
        <li><a href="/chore-lists/{{ chore_list.id }}/settings">
            <div class="icon">âš™ï¸</div>
            <div class="label">Settings</div>
        </a></li>
    </ul>
{% endblock %}

{% block content %}
    <ol class="card-container collapse">
        {% for (user_id, score) in scores_by_user %}
            <li>
                <a href="/chore-lists/{{ chore_list.id }}/users/{{ user_id }}" class="card">
                    {% for user in users %}
                        {% if user.id|as_ref == user_id %}
                            <div class="title">{{ user.name }}</div>
                        {% endif %}
                    {% endfor %}

                    <small class="text-muted">
                        Score: {{ score }}
                    </small>
                </a>
            </li>
        {% endfor %}
    </ol>

    {% if ! deleted_users.is_empty() %}
        <br>
        <br>

        <div>
            <h4>Past ğŸ‘¤&nbsp;Users</h4>
            <ul class="card-container collapse">
                {% for user in deleted_users %}
                    <li>
                        <a href="/chore-lists/{{ chore_list.id }}/users/{{ user.id }}" class="card">
                            <div class="title">{{ user.name }}</div>
                        </a>
                    </li>
                {% endfor %}
            </ul>
        </div>
    {% endif %}
{% endblock %}
