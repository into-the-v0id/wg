{% extends "layout/default.jinja" %}

{% block icon %}ðŸ§¹{% endblock %}
{% block title %}Chores{% endblock %}

{% block teaser %}
    Of <a href="/chore-lists/{{ chore_list.id }}" class="secondary">ðŸ“‹&nbsp;{{ chore_list.name }}</a>
{% endblock %}

{% block back_link %}
    <a href="/chore-lists/{{ chore_list.id }}" rel="parent" class="secondary">&larr; Back</a>
{% endblock %}

{% block content %}
    <div>
        <a href="/chore-lists/{{ chore_list.id }}/chores/create" role="button">+ Create Chore</a>
    </div>

    <br>

    <ul>
        {% for chore in chores %}
            {% if !chore.is_deleted() %}
                <li>
                    <a href="/chore-lists/{{ chore_list.id }}/chores/{{ chore.id }}">{{ chore.name }}</a>&nbsp;({{ chore.points }}P)
                    {% if let Some(next_due_date) = chore.next_due_date %}
                        {% if next_due_date.is_today() || next_due_date.is_in_past() %}
                            <span class="text-danger fw-bold">Due!</span>
                        {% endif %}
                    {% endif %}
                </li>
            {% endif %}
        {% endfor %}
    </ul>

    <br>
    <br>

    <div>
        <h4>Deleted ðŸ§¹&nbsp;Chores</h4>
        <ul>
            {% for chore in chores %}
                {% if chore.is_deleted() %}
                    <li>
                        <a href="/chore-lists/{{ chore_list.id }}/chores/{{ chore.id }}">{{ chore.name }}</a>
                    </li>
                {% endif %}
            {% endfor %}
        </ul>
    </div>
{% endblock %}
