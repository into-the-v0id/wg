{% extends "layout/default.jinja" %}

{% block icon %}👤{% endblock %}
{% block title %}{{ user.name }}{% endblock %}

{% block back_link %}
    <a href="/users" rel="parent" class="secondary text-decoration-none underline-on-hover">&larr; Back</a>
{% endblock %}

{% block meta_actions %}
    {% if user.is_deleted() %}
        <button type="submit" form="user_restore" class="link secondary text-decoration-none underline-on-hover mb-0">↻ Restore</button>
        <form id="user_restore" method="post" action="/users/{{ user.id }}/restore"></form>
    {% else %}
        <button type="submit" form="user_delete" class="link secondary text-decoration-none underline-on-hover mb-0">✗ Delete</button>

        {% if user.id == auth_session.user_id %}
            <a href="/users/{{ user.id }}/update" class="secondary text-decoration-none underline-on-hover" style="margin-left: 1.25rem;">✎ Edit</a>
        {% endif %}

        <form id="user_delete" method="post" action="/users/{{ user.id }}/delete"></form>
    {% endif %}
{% endblock %}

{% block navigation %}
    <ul>
        <li><a href="/chore-lists">
            <div class="icon">📋</div>
            <div class="label">Chore Lists</div>
        </a></li>
        <li><a href="/settings" aria-current="page">
            <div class="icon">⚙️</div>
            <div class="label">Settings</div>
        </a></li>
    </ul>
{% endblock %}

{% block content %}
    {% if user.is_deleted() %}
        <div>
            <em>This user has been deleted</em>
        </div>
    {% endif %}
{% endblock %}
